---
import type { MarkdownInstance } from 'astro';
import type Frontmatter from '../types/frontmatter';
import Layout from '../layouts/Layout.astro';
import path from 'path';
import Card from '../components/Card.astro';
import Footer from '../components/Footer.astro';

const posts = Object.values(import.meta.glob<MarkdownInstance<Frontmatter>>('../md/*.md', { eager: true }));
---

<style>
  .container {
    min-height: 100%;
    display: flex;
    flex-direction: column;
  }
  .content {
    flex: 1;
  }
  .cards {
    padding: 5rem 0;
    display: flex;
    justify-content: center;
    gap: 3rem;
    flex-wrap: wrap;
  }
</style>

<Layout>
	<!-- <Navigation backButton={false} viewTransition={false} title="Overview" /> -->
  <div class="container">
    <div class="content">
      <div class="cards">
        {posts.map(post =>
          <Card
            title={post.frontmatter.title}
            description={post.frontmatter.description || "lorem ipsum dolor sit amet"}
            href={'/'+path.basename(post.file).replace('.md','')}
          />
        )}
      </div>
    </div>
    <Footer />
  </div>
</Layout>
